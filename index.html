<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Fietslease Simulator UZ Leuven</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f0f4f8;
      color: #333;
      margin: 0;
      padding: 20px;
    }

    .header {
      margin-bottom: 20px;
    }

    .header h1 {
      font-size: 1.2em;
      color: #0078D7;
      margin: 0;
    }

    .subtext {
      font-size: 12px;
      color: #888;
      margin-top: 4px;
    }

    .container {
      display: flex;
      gap: 40px;
      max-width: 1200px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .left-panel, .right-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .right-panel {
      background-color: #e6f7ff;
      padding: 20px;
      border-radius: 10px;
    }

    label {
      margin-top: 15px;
      font-weight: bold;
    }

    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .button-row {
      display: flex;
      justify-content: space-between;
      gap: 4%;
      margin-top: 20px;
    }

    button {
      padding: 10px;
      width: 48%;
      background: #0078D7;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .result {
      background: #ffffff;
      padding: 15px;
      border-radius: 5px;
      margin-top: 20px;
    }

    .disclaimer {
      font-size: 0.65em;
      color: #555;
      margin-top: 30px;
      background-color: #f9f9f9;
      padding: 10px;
      border-left: 4px solid #a3c2f2;
      border-radius: 4px;
    }
  </style>
</head>
<body onload="calculate();">

  <div class="header">
    <h1>ðŸš² Fietslease Simulator Eindejaarspremie (EJP) UZ Leuven</h1>
    <div class="subtext">
      Deze tool biedt een indicatieve berekening van het resterende netto bedrag van uw jaarlijkse eindejaarspremie (EJP) -                    <a href="https://www.bit.ly/UZLeuven-Simulatietool" target="_blank">Klik hier voor de UZLeuven-Simulatietool.</a> Deze helpt u om uw maximaal leasebudget te berekenen.

    </div>
  </div>

  <div class="container">
    <div class="left-panel">
      <label>Werkpercentage (%):</label>
      <input type="text" id="workPct" value="100">

      <label>Bruto eindejaarspremie (100%):<span class="subtext"> (zie loonfiche "oktober (2)")</span></label>
      <input type="text" id="bonus" value="3250">

      <label>Fietsprijs: <span class="subtext">(Incl BTW) (De basisprijs van de fiets met prestatie-verbeterende aanpassingen, zoals een betere accu of geavanceerdere remmen + eventuele administratiekosten en BEBAT)</span></label>
      <input type="text" id="bikePrice" value="7500">

      <label>Accessoiresprijs: <span class="subtext">(Incl BTW) (Extra onderdelen voor comfort, gemak of veiligheid, zoals een fietstas, helm, slot, spatlap, verlichting of extra service)</span></label>
      <input type="text" id="accessoryPrice" value="350">

      <label>Leasetermijn:</label>
      <select id="leaseTerm">
        <option value="36">36 maanden</option>
        <option value="48">48 maanden</option>
      </select>

      <div class="button-row">
        <button onclick="calculate()">Bereken</button>
        <button onclick="exportResult()">ðŸ“¤ Exporteren</button>
      </div>
    </div>

    <div class="right-panel">
      <div class="result" id="result"></div>
      <div class="disclaimer">
        <strong>Disclaimer:</strong><br>
        Deze simulatietool dient uitsluitend als informatief hulpmiddel. UZ Leuven is niet de ontwikkelaar. De maker is niet aansprakelijk voor de juistheid, volledigheid of eventuele gevolgen van de berekeningen. Raadpleeg altijd de officiÃ«le communicatie van UZ Leuven voor bindende en actuele informatie.
      </div>
    </div>
  </div>

  <script>
    function parseDecimal(value) {
      return parseFloat(value.replace(',', '.'));
    }

    function calculate() {
      const workPct = parseDecimal(document.getElementById('workPct').value) / 100;
      const bonus100 = parseDecimal(document.getElementById('bonus').value);
      const bikePrice = parseDecimal(document.getElementById('bikePrice').value);
      const accessoryPrice = parseDecimal(document.getElementById('accessoryPrice').value);
      const leaseTerm = parseInt(document.getElementById('leaseTerm').value);

      const totalPrice = bikePrice + accessoryPrice;
      const monthlyLease = totalPrice / leaseTerm;
      const monthlyLoonruil = monthlyLease * 0.75;
      const yearlyLoonruil = monthlyLoonruil * 12;

      const brutoPremie = bonus100 * workPct;
      const brutoOverschot = brutoPremie - yearlyLoonruil;
      const nettoOverschot = brutoOverschot * 0.4589;
      const totaalNettoOverschot = nettoOverschot * (leaseTerm / 12);

      const restwaardeFiets = bikePrice * 0.1501;
      const restwaardeAccessoires = accessoryPrice * 0.1501;

      let resultText = `<strong>Resultaat:</strong><br><br>`;
      resultText += `
        ðŸ“† <strong>Maandelijkse leasekost:</strong> â‚¬${monthlyLease.toFixed(2)}<br>
        ðŸ’° <strong>Bruto loonruil per maand:</strong> â‚¬${monthlyLoonruil.toFixed(2)}<br>
        ðŸ’° <strong>Bruto loonruil per jaar:</strong> â‚¬${yearlyLoonruil.toFixed(2)}<br>
        ðŸ“Š <strong>Netto overschot EJP per jaar:</strong> â‚¬${nettoOverschot.toFixed(2)}<br>
        ðŸ“Š <strong>Totaal netto overschot EJP na ${leaseTerm} maanden:</strong> â‚¬${totaalNettoOverschot.toFixed(2)}<br>
        ðŸ”š <strong>Overnameprijs fiets na lease:</strong> â‚¬${restwaardeFiets.toFixed(2)}<br>
        ðŸ”š <strong>Overnameprijs accessoires na lease:</strong> â‚¬${restwaardeAccessoires.toFixed(2)}<br><br>
        ðŸ“Œ <em>De maandelijkse leasekost wordt jaarlijks verrekend via uw eindejaarspremie. Er gaat dus niets van uw maandelijks nettoloon.</em>
      `;
      document.getElementById('result').innerHTML = resultText;
    }

    function exportResult() {
      const result = document.getElementById('result').innerText;
      const blob = new Blob([result], { type: 'text/plain;charset=utf-8' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'fietslease_simulatie.txt';
      link.click();
    }
  </script>
</body>
</html>


